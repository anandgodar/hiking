---
/**
 * Best Hikes Near Los Angeles, California
 * SEO landing page targeting "hiking near los angeles" (8,100 searches/month)
 * "best hikes in los angeles" (12,100 searches/month)
 * Combined: 20,200+ searches/month - HUGE opportunity!
 */
import Layout from '../../layouts/Layout.astro';
import SiteFooter from '../../components/SiteFooter.astro';
import MountainCard from '../../components/MountainCard.astro';

// Load all mountains
const allFiles = import.meta.glob('../../data/*/*.json', { eager: true });
const allMountains = Object.values(allFiles).map(f => f.default || f);

// Los Angeles coordinates
const laLat = 34.0522;
const laLon = -118.2437;

// Calculate distance from LA
const calculateDistance = (lat, lon) => {
  const R = 3959;
  const dLat = (lat - laLat) * Math.PI / 180;
  const dLon = (lon - laLon) * Math.PI / 180;
  const a = Math.sin(dLat/2) * Math.sin(dLat/2) +
    Math.cos(laLat * Math.PI / 180) * Math.cos(lat * Math.PI / 180) *
    Math.sin(dLon/2) * Math.sin(dLon/2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
  return R * c;
};

// Filter California trails within 100 miles of LA
const nearbyHikes = allMountains
  .filter(m => m.lat && m.lon && (m.state_slug === 'california' || m.state === 'California'))
  .map(m => ({
    ...m,
    distance: calculateDistance(m.lat, m.lon),
    driveTime: Math.round(calculateDistance(m.lat, m.lon) / 45 * 60)
  }))
  .filter(m => m.distance <= 100)
  .sort((a, b) => a.distance - b.distance);

const normalizeState = (s) => {
  if (s === 'nh') return 'new-hampshire';
  if (s === 'me') return 'maine';
  if (s === 'vt') return 'vermont';
  if (s === 'ny') return 'new-york';
  if (s === 'ca' || s === 'CA') return 'california';
  return s || 'california';
};

// FAQ Schema
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What are the best hikes near Los Angeles?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "The best hikes near Los Angeles include Runyon Canyon (easy, Hollywood views), Mount Wilson (moderate, 14 miles), Sandstone Peak (moderate, best in Santa Monica Mountains), and Mount Baldy (strenuous, highest in LA County at 10,064 ft). Each offers unique LA area scenery from urban overlooks to alpine summits."
      }
    },
    {
      "@type": "Question",
      "name": "Where can I hike in LA with my dog?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Dog-friendly hikes near LA include Runyon Canyon (off-leash area), Griffith Park trails (on-leash), Topanga State Park, and Malibu Creek State Park. Always check current regulations as some trails restrict dogs during fire season or wildlife nesting."
      }
    }
  ]
};
---

<Layout
  title="Best Hikes Near Los Angeles 2026 | 50+ Trails Within 2 Hours (Drive Times & Maps)"
  description="Discover the 50+ best hiking trails near Los Angeles, CA. From easy Runyon Canyon to challenging Mount Baldy. Includes drive times, difficulty ratings, parking info & trail maps for Santa Monica Mountains, San Gabriel Mountains & beyond."
>

  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} slot="head" />

  <!-- Hero -->
  <div class="relative h-[60vh] min-h-[500px] flex items-center justify-center overflow-hidden">
    <div class="absolute inset-0">
      <img
        src="https://images.unsplash.com/photo-1534200445267-72b7f209be1e?auto=format&fit=crop&q=80&w=2000"
        class="w-full h-full object-cover"
        alt="Los Angeles hiking trails with mountain views overlooking LA skyline and Pacific Ocean from Santa Monica Mountains"
      />
      <div class="absolute inset-0 bg-gradient-to-b from-stone-900/70 via-stone-900/50 to-stone-900/80"></div>
    </div>

    <div class="relative z-10 w-full max-w-5xl px-4 text-center">
      <nav class="mb-6" aria-label="Breadcrumb">
        <ol class="flex items-center justify-center gap-2 text-sm text-white/70">
          <li><a href="/" class="hover:text-white transition-colors">Home</a></li>
          <li>/</li>
          <li><a href="/near" class="hover:text-white transition-colors">Near Me</a></li>
          <li>/</li>
          <li class="text-white font-medium">Los Angeles</li>
        </ol>
      </nav>

      <div class="inline-block px-4 py-1.5 bg-purple-600/90 backdrop-blur-md rounded-full text-white text-xs font-bold uppercase tracking-wider mb-6">
        {nearbyHikes.length > 0 ? nearbyHikes.length : '50+'} Trails Near LA
      </div>

      <h1 class="text-5xl md:text-7xl font-black text-white mb-6 tracking-tight leading-tight">
        Best Hikes Near <span class="text-purple-400">Los Angeles</span>
      </h1>

      <p class="text-xl md:text-2xl text-white/90 mb-8 max-w-3xl mx-auto">
        From Hollywood Hills to San Gabriel Mountains‚Äîdiscover LA's best hiking trails with ocean and city views
      </p>

      <div class="flex flex-wrap justify-center gap-3 text-sm">
        <div class="bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20">
          <span class="text-white/80">Closest:</span> <span class="text-white font-bold">15 min</span>
        </div>
        <div class="bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20">
          <span class="text-white/80">Highest:</span> <span class="text-white font-bold">10,064 ft (Mt Baldy)</span>
        </div>
        <div class="bg-white/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20">
          <span class="text-white/80">Ranges:</span> <span class="text-white font-bold">Santa Monica ‚Ä¢ San Gabriel ‚Ä¢ Santa Ynez</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="bg-stone-50 py-16">
    <div class="max-w-7xl mx-auto px-4">

      <!-- Intro -->
      <div class="prose prose-lg max-w-4xl mx-auto mb-16 bg-white rounded-2xl p-8 shadow-sm border border-stone-200">
        <h2 class="text-3xl font-bold text-stone-900 mb-4">LA's Incredible Hiking Diversity</h2>
        <p class="text-stone-700 leading-relaxed">
          Los Angeles offers some of the most diverse hiking in America. Within an hour's drive, you can hike coastal bluffs with Pacific Ocean views,
          explore desert canyons dotted with wildflowers, or summit 10,000-foot peaks with snow in winter. From celebrity-spotting at Runyon Canyon
          to backcountry solitude in the Angeles National Forest, LA has trails for every type of hiker.
        </p>

        <h3 class="text-2xl font-bold text-stone-900 mt-8 mb-4">üöÄ Coming Soon: Full LA Trail Coverage</h3>
        <p class="text-stone-700 leading-relaxed">
          We're rapidly adding comprehensive trail guides for the Los Angeles area. Priority trails being added include:
        </p>

        <div class="grid md:grid-cols-2 gap-4 my-6 not-prose">
          {[
            { name: 'Runyon Canyon', area: 'Hollywood Hills', difficulty: 'Easy' },
            { name: 'Mount Wilson Trail', area: 'San Gabriel Mtns', difficulty: 'Moderate' },
            { name: 'Mount Baldy', area: 'San Gabriel Mtns', difficulty: 'Strenuous' },
            { name: 'Sandstone Peak', area: 'Santa Monica Mtns', difficulty: 'Moderate' },
            { name: 'Bridge to Nowhere', area: 'San Gabriel Mtns', difficulty: 'Moderate' },
            { name: 'Escondido Falls', area: 'Malibu', difficulty: 'Easy' },
            { name: 'Griffith Observatory', area: 'Griffith Park', difficulty: 'Easy' },
            { name: 'Echo Mountain', area: 'San Gabriel Mtns', difficulty: 'Moderate' }
          ].map(trail => (
            <div class="bg-gradient-to-br from-purple-50 to-blue-50 p-4 rounded-xl border border-purple-200">
              <div class="font-bold text-purple-900">{trail.name}</div>
              <div class="text-sm text-purple-700">{trail.area} ‚Ä¢ {trail.difficulty}</div>
            </div>
          ))}
        </div>

        <p class="text-stone-700 leading-relaxed">
          <strong>Want to see a specific trail added?</strong> Email us at hello@summitseeker.io with your request!
        </p>
      </div>

      <!-- If we have trails, show them -->
      {nearbyHikes.length > 0 ? (
        <section class="mb-16">
          <div class="flex items-center gap-4 mb-8">
            <div class="bg-purple-500 w-12 h-12 rounded-2xl flex items-center justify-center text-2xl">üèîÔ∏è</div>
            <div>
              <h2 class="text-3xl font-bold text-stone-900">Available Trails Near LA</h2>
              <p class="text-stone-600">Currently available in our database</p>
            </div>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            {nearbyHikes.map(mountain => (
              <div class="relative">
                <MountainCard mountain={{...mountain, state_slug: normalizeState(mountain.state_slug)}} />
                <div class="absolute top-4 right-4 bg-purple-600 text-white px-3 py-1 rounded-full text-sm font-bold shadow-lg">
                  {mountain.driveTime} min
                </div>
              </div>
            ))}
          </div>
        </section>
      ) : (
        <div class="bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl p-12 text-center text-white mb-16">
          <div class="text-6xl mb-4">üöÄ</div>
          <h2 class="text-3xl font-bold mb-4">LA Trails Coming Very Soon!</h2>
          <p class="text-xl text-purple-100 mb-6 max-w-2xl mx-auto">
            We're adding 50+ Los Angeles area trails right now. Check back in a few days for complete coverage of
            Santa Monica Mountains, San Gabriel Mountains, and all LA hiking hotspots!
          </p>
          <a href="mailto:hello@summitseeker.io?subject=LA Trails Request"
             class="inline-flex items-center gap-2 px-6 py-3 bg-white text-purple-700 font-bold rounded-xl hover:bg-purple-50 transition-colors shadow-xl">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
            </svg>
            Request Priority Trail
          </a>
        </div>
      )}

      <!-- LA Hiking Guide -->
      <section class="bg-gradient-to-br from-purple-50 to-blue-50 rounded-2xl p-8 border border-purple-200">
        <h2 class="text-2xl font-bold text-stone-900 mb-6">Essential LA Hiking Tips</h2>

        <div class="grid md:grid-cols-2 gap-6 text-stone-700">
          <div>
            <h3 class="font-bold text-stone-900 mb-3 flex items-center gap-2">
              <span class="text-2xl">üöó</span> Getting to Trailheads
            </h3>
            <ul class="space-y-2">
              <li>‚Ä¢ Traffic is real‚Äîadd 30-60 min to Google Maps estimates</li>
              <li>‚Ä¢ Popular trails (Runyon, Griffith): Arrive before 8am or after 4pm</li>
              <li>‚Ä¢ Weekend parking fills fast‚Äîstart early or choose weekdays</li>
              <li>‚Ä¢ Some trails require Adventure Pass ($5/day or $30/year)</li>
            </ul>
          </div>

          <div>
            <h3 class="font-bold text-stone-900 mb-3 flex items-center gap-2">
              <span class="text-2xl">üå°Ô∏è</span> Weather & Seasons
            </h3>
            <ul class="space-y-2">
              <li>‚Ä¢ Year-round hiking! Winter (Nov-Mar) is greenest</li>
              <li>‚Ä¢ Summer (Jun-Sep): Very hot inland (90-100¬∞F), start early</li>
              <li>‚Ä¢ May-June: "June Gloom" coastal fog, inland sun</li>
              <li>‚Ä¢ Best months: March-May, October-November</li>
            </ul>
          </div>

          <div>
            <h3 class="font-bold text-stone-900 mb-3 flex items-center gap-2">
              <span class="text-2xl">‚ö†Ô∏è</span> Safety Concerns
            </h3>
            <ul class="space-y-2">
              <li>‚Ä¢ Rattlesnakes April-October‚Äîstay on trail, watch step</li>
              <li>‚Ä¢ Mountain lions rare but present‚Äîdon't hike alone at dawn/dusk</li>
              <li>‚Ä¢ Poison oak is everywhere‚Äîlearn to identify it</li>
              <li>‚Ä¢ Fire danger high summer/fall‚Äîcheck closures before going</li>
            </ul>
          </div>

          <div>
            <h3 class="font-bold text-stone-900 mb-3 flex items-center gap-2">
              <span class="text-2xl">üíß</span> Water & Gear
            </h3>
            <ul class="space-y-2">
              <li>‚Ä¢ Bring 2-3 liters minimum (no water on most trails)</li>
              <li>‚Ä¢ Sun protection crucial‚Äîshade is rare</li>
              <li>‚Ä¢ Layers for elevation changes (40¬∞F swing possible)</li>
              <li>‚Ä¢ Cell service spotty in canyons‚Äîdownload offline maps</li>
            </ul>
          </div>
        </div>
      </section>

    </div>
  </div>

  <SiteFooter />
</Layout>
